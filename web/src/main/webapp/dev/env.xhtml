<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox">

<ui:composition template="/main/template.xhtml">

	<ui:param name="pageTitle" value="Environment" />

	<ui:define name="body">

		<t:outputText value="Application Metadata" styleClass="sectionHeader" />
		<h:panelGrid id="metadata" columns="2" styleClass="standardTable"
			rowClasses="row1,row2">
			<t:outputText value="Name" />
			<t:outputText value="#{envInfo.applicationName}" />
			<t:outputText value="Facility Key" />
			<t:outputText value="#{envInfo.applicationProperties.facilityKey}" />
			<t:outputText value="Version" />
			<t:outputText value="#{envInfo.applicationProperties.version}" />
			<t:outputText value="Build" />
			<t:outputText value="#{envInfo.applicationProperties.buildNumber}" />
		</h:panelGrid>

		<t:outputText value="Database Connection Settings"
			styleClass="sectionHeader" />
		<h:panelGrid id="dbConfigPanel" columns="2" styleClass="standardTable"
			rowClasses="row1,row2">
			<h:outputText value="Host" />
			<h:outputText value="#{envInfo.applicationProperties.databaseConnectionSettings.host}" />
			<h:outputText value="Database" />
			<h:outputText value="#{envInfo.applicationProperties.databaseConnectionSettings.database}" />
			<h:outputText value="User" />
			<h:outputText value="#{envInfo.applicationProperties.databaseConnectionSettings.user}" />
			<h:outputText value="URL" />
			<h:outputText value="#{envInfo.applicationProperties.databaseConnectionSettings.jdbcUrl}" />
		</h:panelGrid>

    <t:outputText value="Screensaver Properties"
      styleClass="sectionHeader" />
    <t:dataTable id="screensaverPropsTable" value="#{envInfo.screensaverPropsTableModel}"
      var="row" styleClass="standardTable" rowClasses="row1,row2">
      <t:column>
        <f:facet name="header">Name</f:facet>
        <t:outputText value="#{row.name}"></t:outputText>
      </t:column>
      <t:column>
        <f:facet name="header">Value</f:facet>
        <t:outputText value="#{row.value}"></t:outputText>
      </t:column>
    </t:dataTable>

		<t:outputText value="JVM" styleClass="sectionHeader" />
		<t:dataTable id="jvmTable" value="#{envInfo.jvmModel}" var="row"
			styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>
		<h:form>
			<t:commandButton value="Run GC" action="#{envInfo.runGC}" />
		</h:form>

		<t:outputText value="User Security" styleClass="sectionHeader" />
		<t:dataTable id="userSecurityTable"
			value="#{envInfo.userSecurityTableModel}" var="row"
			styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<t:outputText value="Cookies" styleClass="sectionHeader" />
		<t:dataTable id="cookiesTable" value="#{envInfo.cookiesTableModel}"
			var="row" styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<t:outputText value="Request Parameters" styleClass="sectionHeader" />
		<t:dataTable id="requestParamsTable"
			value="#{envInfo.requestParamsModel}" var="row"
			styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<t:outputText value="Session Parameters" styleClass="sectionHeader" />
		<t:dataTable id="sessionParamsTable"
			value="#{envInfo.sessionParamsModel}" var="row"
			styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<t:outputText value="Application Parameters"
			styleClass="sectionHeader" />
		<t:dataTable id="applicationParamsTable"
			value="#{envInfo.applicationParamsModel}" var="row"
			styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<t:outputText value="Environment Variables" styleClass="sectionHeader" />
		<t:dataTable id="envVarsTable" value="#{envInfo.envTableModel}"
			var="row" styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<t:outputText value="Java Systems Properties"
			styleClass="sectionHeader" />
		<t:dataTable id="sysPropsTable" value="#{envInfo.sysPropsTableModel}"
			var="row" styleClass="standardTable" rowClasses="row1,row2">
			<t:column>
				<f:facet name="header">Name</f:facet>
				<t:outputText value="#{row.name}"></t:outputText>
			</t:column>
			<t:column>
				<f:facet name="header">Value</f:facet>
				<t:outputText value="#{row.value}"></t:outputText>
			</t:column>
		</t:dataTable>

		<h:form>
			<t:commandButton action="#{envInfo.throwAnException}"
				value="Throw an exception!" style="command" />
			<t:commandButton
				action="#{envInfo.throwAConcurrencyFailureException}"
				value="Throw a ConcurrencyFailure exception!" style="command" />
		</h:form>

	</ui:define>

</ui:composition>

</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox"
	xmlns:ss="http://screensaver.med.harvard.edu/ui">

<ui:composition>
	<h:form>
      <ss:collapsiblePanel id="cellPanel"
        isCollapsed="#{cellViewer.isPanelCollapsedMap['cellPanel']}"
        label="Cell">
        <ui:define name="content">
        
		<t:panelGrid id="cellInfoPropertiesPanel" columns="2"
			columnClasses="propertyLabelColumn,column" styleClass="layoutPanel">

			<ui:remove>
				<!-- 
				NOTE: fields updated to the DWG working group Cell Line Information release candidate document:
							- LINCS_DWG_CellLine_MetaData_ReleaseCandidate_Mar2012: 
							https://docs.google.com/spreadsheet/ccc?key=0AnqCZUjNY3AUdHFZRVRSeXBaZXZOSEVudUNXa29uNVE&hl=en_US#gid=0
				 -->			
			</ui:remove>

			<ss:property id="facilityId" label="HMS ID"
				value="#{cellViewer.entity.facilityId}" rendered="true" editable="false"
				description="ID assigned to this cell by the HMS LINCS facility" type="Text" />
			<ss:property id="name" label="Name" value="#{cellViewer.entity.name}"
				rendered="true" editable="false" 
				description="CL:1 The primary name for the cell line"
				type="Text" />
			<ss:property id="cloid" label="Cell ID"
				value="#{cellViewer.entity.cloId}" rendered="true" editable="false"
				description="CL:2 Unique #{menu.applicationProperties.facilityKey == 'lincs' ?'LINCS ':''}internal identifier" type="Text" />
			<ss:property id="alternateName" label="Alternate Name"
				value="#{cellViewer.entity.alternateName}" rendered="true" editable="false"
				description="CL:3 Other relevant names"
				type="Text" />

			<ss:property id="alternateId" label="Alternate ID"
				value="#{cellViewer.entity.alternateId}" rendered="true" editable="false"
				description="CL:4 Other relevant IDs for cell lines"
				type="Text" />

			<ss:property id="centerName" label="Center Name"
				value="#{cellViewer.entity.centerName}" rendered="true" editable="false"
				description="CL:5 Name provided by the LINCS center using the cell line"
				type="Text" />

			<ss:property id="centerId" label="Center Specific ID"
				value="#{cellViewer.entity.centerName}" rendered="true" editable="false"
				description="CL:6 Batch specific ID provided by the LINCS center using the cell line"
				type="Text" />


			<ss:property id="vendor" label="Provider Name"
				value="#{cellViewer.entity.vendor}" rendered="true" editable="false"
				description="CL:7 Name of vendor or lab(provider)  that supplied the cell line"
				type="Text" />
			<ss:property id="vendorCatalogId" label="Provider Catalog ID"
				value="#{cellViewer.entity.vendorCatalogId}" rendered="true"
				editable="false"
				description="CL:8 ID or catalogue number or name assigned to the cell line by the vendor or provider"
				type="Text" />
			<ss:property id="batchID" label="Provider Batch ID"
				value="#{cellViewer.entity.batchId}" rendered="true"
				editable="false"
				description="CL:9 Provider Batch ID number; Batch or lot number assigned to the cell line by the vendor or provider"
				type="Text" />
			<ss:property id="organism" label="Organism"
				value="#{cellViewer.entity.organism}" rendered="true"
				editable="false"
				description="CL:10 Organism of origin; a controlled vocabulary describing the organism from which the cell line was derived (e.g. Homo sapiens, Mus musculus, etc.)"
				type="Text" />
				
			<ss:property id="organ" label="Organ"
				value="#{cellViewer.entity.organism}" rendered="true"
				editable="false"
				description="CL:11 Organ of origin; controlled terms describing the organ from which cell line is derived;  (e.g. lung, mammary gland etc.)"
				type="Text" />
				
				
			<ss:property id="tissue" label="Tissue"
				value="#{cellViewer.entity.tissue}" rendered="true" editable="false"
				description="CL:12 Tissue of origin; A controlled vocabulary describing the tissue from which the cell line was derived"
				type="Text" />
			<ss:property id="cellType" label="Cell Type"
				value="#{cellViewer.entity.cellType}" rendered="true"
				editable="false"
				description="CL:13 A controlled vocabulary describing  the cell type from which a cell line was derived; e.g. epithelial like, fibroblast-like, lymphoblast like, hematopoetic, mesenchymal, neural, etc. This provides information about cell morphology.  Also sometimes referred to as cell morphology."
				type="Text" />
			<ss:property id="disease" label="Cell Disease"
				value="#{cellViewer.entity.disease}" rendered="true"
				editable="false"
				description="CL:14 If the cell line came from a particular diseased tissue, the disease should be noted in terms of a controlled vocabulary (e.g. breast cancer, colon cancer, not diseased, etc.)"
				type="Text" />
			<ss:property id="growthProperties" label="Growth Properties"
				value="#{cellViewer.entity.growthProperties}" rendered="true"
				editable="false"
				description="CL:15 A controlled vocabulary describing the growth properties of the cell line (e.g. adherent, suspension)"
				type="List" />
			<ss:property id="geneticModification" label="Genetic Modification"
				value="#{cellViewer.entity.geneticModification}" rendered="true"
				editable="false"
				description="CL:16 Stable transfection or viral transduction.  If yes, the modifications (e.g. expressing GFP-tagged protein) should be described and appropriate references provided. This requires a number of fields including the parental cell line"
				type="Text" />

			<ss:property id="relatedProjects" label="Related Projects"
				value="#{cellViewer.entity.relatedProjects}" rendered="true"
				editable="false"
				description="CL:17 Other projects in which the cell line has been studied / used; A controlled vocabulary describing other large scale projects in which the cell line has been used (e.g. ENCODE, TCGA, ICBP, Epigenomics, etc.)"
				type="Text" />

			<ss:property id="recCultCond" label="Recommended Culture Conditions"
				value="#{cellViewer.entity.recommendedCultureConditions}"
				rendered="true" editable="false"
				description="CL:18 A description of the standard tissue culture conditions (media, supplements, culture dish treatment) used to maintain the cell line.  Description of culture dish treatment conditions would include information about coating of culture dish with fibronectin, collagen, etc, prior to cell plating. If special culture vessels are required to grow the cells, these should also be mentioned and details provided."
				type="Text" />

			<ss:property id="verification" label="Verification"
				value="#{cellViewer.entity.verification}" rendered="true"
				editable="false"
				description="CL:19 Information pertaining to experimental verification of the cell line identity; batch-specific ID; STR profiling"
				type="Text" />

			<ss:property id="mutations" label="Mutations"
				value="#{cellViewer.entity.mutations}" rendered="true"
				editable="false"
				description="CL:20 Mutations inherent in certain cell lines" type="Text" />

			<ss:property id="gender" label="Organism Gender"
				value="#{cellViewer.entity.organismGender}" rendered="true"
				editable="false"
				description="CL:21 Whether cell line was obtained from a male or female subject"
				type="Text" />
		</t:panelGrid>
    </ui:define>
  </ss:collapsiblePanel>

    <ss:collapsiblePanel id="screensAndStudies"
      isCollapsed="#{cellViewer.isPanelCollapsedMap['screensAndStudies']}"
      label="Screens and Studies"
      rendered="#{cellViewer.screensAndStudiesDataModel.rowCount > 0}">
      >
      <ui:define name="content">
        <t:dataTable id="screensAndStudiesTable" var="var"
          value="#{cellViewer.screensAndStudiesDataModel}"
          styleClass="standardTable" columnClasses="column"
          rowClasses="row1,row2" headerClass="tableHeader"
          rendered="#{cellViewer.screensAndStudiesDataModel.rowCount > 0}">
          <t:column>
            <f:facet name="header">
              <t:outputText value="Screen or Study" />
            </f:facet>
            <ss:entityLink id="linkScreen" entity="#{var.first}" property="facilityId" 
            	rendered="#{!var.first.isStudyOnly}"
              viewer="#{screenViewer}" />
            <ss:entityLink id="linkStudy" entity="#{var.first}" property="facilityId" 
            	rendered="#{var.first.isStudyOnly}"
              viewer="#{studyViewer}" />
          </t:column>
          <t:column>
            <f:facet name="header">
              <t:outputText value="Title" />
            </f:facet>
            <t:outputText value="#{var.first.title}" />
          </t:column>
          <t:column>
            <f:facet name="header">
              <t:outputText value="Cells Studied" />
            </f:facet>
						<ss:listOfEntityLinks value="#{var.second}" property="facilityId" viewer="#{cellViewer}"/>
          </t:column>
        </t:dataTable>
      </ui:define>
    </ss:collapsiblePanel>
    

	</h:form>
		<h:form id="reagentsScreenedPanel">
			<ss:collapsiblePanel id="screensForCellPanel" label="Unique Compounds Screened"
				isCollapsed="#{cellViewer.isPanelCollapsedMap['reagentsScreened']}"
				rendered="#{cellViewer.hasReagents }">
				<ui:define name="content">
				</ui:define>
			</ss:collapsiblePanel>
		</h:form>

		<!-- Warning: ss:searchResult must be included outside of h:form elements -->
		<t:div
			rendered="#{! cellViewer.isPanelCollapsedMap['reagentsScreened'] &amp;&amp; cellViewer.hasReagents }">
			<ss:searchResult searchResults="#{cellViewer.wellSearchResults}" >
			</ss:searchResult>
		</t:div>

  <ui:remove>
   <!-- TODO: remove as the simpler dataTable for screensAndStudies should be able to replace this
	<h:form id="screensForCellPanel">
	<ss:collapsiblePanel id="screensForCellPanel" label="Screens and Studies"
		isCollapsed="#{cellViewer.isPanelCollapsedMap['screensForCellPanel']}"
		rendered="#{cellViewer.hasScreens }">
		<ui:define name="content">
		</ui:define>
	</ss:collapsiblePanel>
	</h:form>

	<t:div
		rendered="#{! cellViewer.isPanelCollapsedMap['screensForCellPanel'] &amp;&amp; cellViewer.hasScreens }">
		<ss:searchResult searchResults="#{cellViewer.screenCellSearchResults}" />
	</t:div>
    -->
  </ui:remove>

</ui:composition>

</html>

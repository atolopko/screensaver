<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:s="http://myfaces.apache.org/sandbox"
  xmlns:ss="http://screensaver.med.harvard.edu/ui">

<!-- params:
      - viewer: AbstractBackingBean that has 'plateComments' and 'plates' collapsible panels and 'libraryCopyPlateCommentSearchResults' and 'libraryCopyPlateSearchResults' SearchResults properties
 -->

<ui:component>

  <t:div rendered="#{viewer.readAdmin}">
    <h:form id="plateCommentsForm">
      <ss:collapsiblePanel id="plateCommentsPanel"
        isCollapsed="#{viewer.isPanelCollapsedMap['plateComments']}"
        label="Plate Comments">
      </ss:collapsiblePanel>
    </h:form>

    <ss:searchResult
      searchResults="#{viewer.libraryCopyPlateCommentSearchResults}"
      rendered="#{!viewer.isPanelCollapsedMap['plateComments']}" />

    <h:form id="platesForm">
      <ss:collapsiblePanel id="platesPanel"
        isCollapsed="#{viewer.isPanelCollapsedMap['plates']}"
        label="Plates" />
    </h:form>

    <ui:include src="libraryCopyPlatesBrowserBody.xhtml">
      <ui:param name="searchResults"
        value="#{viewer.libraryCopyPlateSearchResults}" />
      <ui:param name="rendered"
        value="#{!viewer.isPanelCollapsedMap['plates']}" />
    </ui:include>
  </t:div>
</ui:component>

</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox"
	xmlns:ss="http://screensaver.med.harvard.edu/ui">
<!-- xmlns:ft="http://facestrace.sourceforge.net"> -->


<ui:composition template="/util/entityViewerDetails.xhtml">

  <ui:param name="entity" value="#{screenResultViewer.entity}" />
  <ui:param name="viewer" value="#{screenResultViewer}" />
  <ui:param name="hideId" value="#{true}" />

  <ui:define name="entityCommands">
    <t:commandButton action="#{screenResultViewer.delete}"
      value="Delete"
      onclick="javascript: return confirm('Delete this screen result permanently?');"
      styleClass="command" rendered="#{screenResultViewer.editable}"
      title="Delete the screen results for this screen" />
    <t:panelGroup rendered="#{appInfo.featuresEnabled['cellHTS2']}">
      <t:commandButton action="#{screenResultViewer.viewCellHTS2Runner}"
        value="Click here to enter CellHTS2 parameters"
        styleClass="command"
        rendered="#{screenResultViewer.editable &amp;&amp; !screenResultViewer.cellHTS2ReportFileExists}"
        title="Run CellHTS2 on the screen result for this screen" />
      <t:panelGroup id="screenResultReportLink"
        rendered="#{screenResultViewer.cellHTS2ReportFileExists}">
        <t:commandButton
          action="#{screenResultViewer.viewCellHTS2Runner}"
          value="Click here to reenter CellHTS2 parameters"
          styleClass="command" rendered="#{screenResultViewer.editable}"
          title="Rerun CellHTS2 analysis on the screen result for this screen" />
        <h:outputLink value="#{screenResultViewer.reportURL}"
          title="Click here for CellHTS2 report">
          <h:outputText value="CellHTS2 Report" styleClass="dataText" />
        </h:outputLink>
      </t:panelGroup>
    </t:panelGroup>
  </ui:define>

  <ui:define name="propertiesContent">
		<ss:property id="screenResultLastImported" label="Last Imported"
						type="Date"
						description="The date the current screen results were loaded into the database"
						value="#{screenResultViewer.entity.dateLastImported}" />

					<ss:property id="screenResultPlateCount" label="Plates"
						description="The number of plates for which we have results"
						value="#{screenResultViewer.entity.plateNumberCount}" />

					<ss:property id="screenResultReplicateCount" label="Replicates"
						description="The number of replicates screened"
						value="#{screenResultViewer.entity.replicateCount}" />

					<ss:property id="screenResultExperimentalWellCount"
						label="Experimental Wells"
						description="The number of experimental wells for which we have results"
						value="#{screenResultViewer.entity.experimentalWellCount}" />
						
					<ss:property id="comments" label="Comments"
						value="#{screenResultViewer.entity.comments}"
						rendered="#{screenResultViewer.readAdmin}"
						adminOnly="true" editable="#{screenResultViewer.editMode}"
						description="Administrative comments" type="Textarea"
						editWidth="80" editHeight="3" />
	
</ui:define>
</ui:composition>

</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox">

<ui:component>

	<!-- save navigation state to allow browser "back" actions to work intuitively -->
	<t:saveState value="#{dataTable.rowsPerPageSelector.value}" />
	<!--t:saveState value="#{dataTable.dataTableModel.rowIndex}"/-->

	<s:roundedDiv color="#{appInfo.screensaverThemeHeaderColor}" radius="8" borderWidth="1" style="height: 100%">
		<t:panelGrid id="dataTableNavPanel" columns="5" width="100%"
			rendered="#{dataTable.rowCount > 0}">

			<t:dataScroller id="dataTableScroller2" for=":#{dataTable.clientId}"
				pageCountVar="pages" pageIndexVar="page" firstRowIndexVar="fromRow"
				lastRowIndexVar="toRow" rowsCountVar="rowCount">
				<t:outputText
					value="Page #{page}&#160;of&#160;#{pages} (#{rowCount}&#160;#{rowCount == 1 ? &quot;row&quot; : &quot;rows&quot;})"
					style="color: white"
					escape="false" styleClass="searchResultNavPanelStatus" />
			</t:dataScroller>

			<t:dataScroller id="dataTableScroller" for=":#{dataTable.clientId}"
				firstRowIndexVar="fromRow" lastRowIndexVar="toRow"
				rowsCountVar="rowCount" paginator="true" paginatorMaxPages="10"
				fastStep="10" renderFacetsIfSinglePage="false" styleClass="scroller" 
				paginatorColumnClass="scroller_inactivePage"
				paginatorActiveColumnClass="scroller_activePage">
				<f:facet name="first">
					<t:graphicImage url="/images/arrow-first.png" border="0"
						title="First page" />
				</f:facet>
				<f:facet name="last">
					<t:graphicImage url="/images/arrow-last.png" border="0"
						title="Last page" />
				</f:facet>
				<f:facet name="previous">
					<t:graphicImage url="/images/arrow-previous.png" border="0"
						title="Previous page" />
				</f:facet>
				<f:facet name="next">
					<t:graphicImage url="/images/arrow-next.png" border="0"
						title="Next page" />
				</f:facet>
				<f:facet name="fastforward">
					<t:graphicImage url="/images/arrow-fastforward.png" border="0"
						title="Forward 10 pages" />
				</f:facet>
				<f:facet name="fastrewind">
					<t:graphicImage url="/images/arrow-fastrewind.png" border="0"
						title="Back 10 pages" />
				</f:facet>
			</t:dataScroller>

			<t:panelGroup id="pageNumberPanel" rendered="#{dataTable.multiPaged}"
				styleClass="commandPanel">
				<t:inputText id="pageNumber"
					valueChangeListener="#{dataTable.pageNumberListener}" size="6"
					styleClass="inputText" />
				<t:commandButton id="updatePageNumberButton" value="Find Page"
					styleClass="command" />
			</t:panelGroup>

			<t:panelGrid columns="2" title="The sort column and direction">
				<t:outputLabel for="sortColumnMenu" value="Sort by" 
					styleClass="label" style="color: white" />
				<t:panelGroup>
					<t:selectOneMenu id="sortColumnMenu"
						value="#{dataTable.columnManager.sortColumnSelector.value}"
						onchange="javascript:this.nextSibling.nextSibling.click();"
						styleClass="command">
						<f:selectItems
							value="#{dataTable.columnManager.sortColumnSelector.selectItems}" />
					</t:selectOneMenu>
					<t:selectOneMenu id="sortDirection"
						value="#{dataTable.columnManager.sortDirectionSelector.value}"
						onchange="javascript:this.nextSibling.click();"
						styleClass="command">
						<f:selectItems
							value="#{dataTable.columnManager.sortDirectionSelector.selectItems}" />
					</t:selectOneMenu>
					<t:commandButton id="updateSortButton" styleClass="hiddenCommand" />
				</t:panelGroup>
			</t:panelGrid>

			<t:panelGroup id="rowsPerPagePanel" style="float:right"
				styleClass="commandPanel">
				<t:selectOneMenu id="rowsPerPageList"
					value="#{dataTable.rowsPerPageSelector.value}"
					binding="#{dataTable.rowsPerPageUIComponent}"
					valueChangeListener="#{dataTable.rowsPerPageListener}"
					onchange="javascript:this.nextSibling.nextSibling.click();"
					styleClass="data" title="Number of rows to display per page" > 
					<f:selectItems value="#{dataTable.rowsPerPageSelector.selectItems}" />
				</t:selectOneMenu>
				<t:outputText id="rowsPerPageLabel" value=" per page" styleClass="label" style="color: white" />
				<t:commandButton id="updateRowsPerPageButton" value="Go"
					styleClass="hiddenCommand" />
			</t:panelGroup>

		</t:panelGrid>
	</s:roundedDiv>

</ui:component>

</html>
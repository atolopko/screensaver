<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox">

<!--
	   facelets parameters:
	     - id
	     - label
	     - type: 'Text' (default), 'Textarea', 'Date', 'Boolean', 'Set', 'List', 'Volume', 'Currency'
	     - description
	     - value
	     - editable: boolean, (optional, defaults to false)
	     - rendered: boolean, (optional, defaults to true)
       - adminOnly: boolean (optional, defaults to false)
       - primary: boolean (optional, defaults to false)
	     - required: boolean, (optional, defaults to false)
	     - editWidth
	     - editHeight ('Textarea' type only)
	     - converter (optional)
	     - submitOnChange (optional, 'Boolean' type only)
	 -->

<ui:composition>
	<t:div
		rendered="#{(empty rendered ? true : rendered) &amp;&amp; (adminOnly ? appInfo.screensaverUser.isUserInRoleOfNameMap['readEverythingAdmin'] : true)}"
		styleClass="propertyLabel">
		<ui:insert name="label">
			<t:popup>
				<f:facet name="popup">
					<t:div styleClass="popupHelp popupText">#{description}</t:div>
				</f:facet>
				<t:outputText value="#{label}"
					styleClass="label #{adminOnly ? 'adminOnly' : ''}" />
			</t:popup>
		</ui:insert>
	</t:div>
	<t:div rendered="#{(empty rendered ? true : rendered) &amp;&amp; (adminOnly ? appInfo.screensaverUser.isUserInRoleOfNameMap['readEverythingAdmin'] : true)}">
		<ui:insert name="valueHeader" />
		<t:div rendered="#{!editable}" styleClass="#{primary ? 'primaryPropertyValue' : 'propertyValue'}">
			<ui:insert name="data">
        <t:outputText id="#{id}#{type}Value" value="#{value}"
          rendered="#{type != 'Textarea'}"
          converter="#{!empty converter ? converter : type == 'Date' ? dateConverter : type == 'Set' ? setConverter : type == 'List' ? listConverter : type == 'Volume' ? volumeConverter : type == 'Currency' ? currencyConverter : stringConverter}" />
        <t:inputTextarea id="#{id}#{type}Value1"
          rendered="#{type == 'Textarea'}" value="#{value}"
          readonly="true" cols="#{editWidth}" rows="#{editHeight}" />
      </ui:insert>
		</t:div>
		<t:div rendered="#{editable}">
			<ui:insert name="editableData">
				<t:inputText id="#{id}#{type}Field"
					rendered="#{!(type == 'Textarea' || type == 'Boolean')}"
					required="#{required}" value="#{value}" size="#{editWidth}"
					styleClass="inputText"
					converter="#{!empty converter ? converter : type == 'Date' ? dateConverter : type == 'Set' ? setConverter : type == 'List' ? listConverter : type == 'Volume' ? volumeConverter : type == 'Currency' ? currencyConverter : stringConverter}" />
				<t:inputTextarea id="#{id}#{type}Field1"
					rendered="#{type == 'Textarea'}" required="#{required}"
					value="#{value}" cols="#{editWidth}" rows="#{editHeight}"
					styleClass="inputText" />
				<t:selectBooleanCheckbox id="#{id}BooleanField2" value="#{value}"
					rendered="#{type == 'Boolean'}" required="#{required}"
					onclick="#{submitOnChange ? 'javascript:submit()' : ''}"
					immediate="#{submitOnChange}" />
			</ui:insert>
		</t:div>
		<ui:insert name="valueFooter" />
	</t:div>
</ui:composition>

</html>
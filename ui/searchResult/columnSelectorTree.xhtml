<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox"
	xmlns:ss="http://screensaver.med.harvard.edu/ui">
<!--
Note: this stock column selector component - using the jsf tree selector component.  For another
version, see the "columnSelectorReorder" component.

	   facelets parameters:
	     - searchResults - an instance of an EntitySearchResults class, providing a TableColumnManager
	     - rendered

 -->
<ui:component>

	<f:subview>
		<t:div rendered="#{(empty rendered ? true : rendered)}">
			<t:panelGrid id="columnsSelectionPanelInternal" columns="1">
				<t:commandButton id="updateColumnsButton" forceId="true"
					action="#{searchResults.columnManager.updateColumnSelections}"
					value="Update Table Columns" styleClass="command"
					title="Update the columns selection" />
				<t:tree2 id="columnsSelectorTree"
					value="#{searchResults.columnManager.columnsTreeModel}"
					var="node" varNodeToggler="t" clientSideToggle="true"
					showRootNode="false">
					<f:facet name="root">
						<h:panelGroup>
							<h:outputText value="Columns" styleClass="label" />
						</h:panelGroup>
					</f:facet>
					<f:facet name="group">
						<h:panelGroup>
							<h:outputText value="#{node.description}" styleClass="label" />
						</h:panelGroup>
					</f:facet>
					<f:facet name="column">
						<h:panelGroup>
							<t:selectBooleanCheckbox id="columnSelector"
								value="#{node.checked}" styleClass="command" />
							<t:outputLabel for="columnSelector" value="#{node.description}"
								styleClass="label" />
						</h:panelGroup>
					</f:facet>
				</t:tree2>
			</t:panelGrid>
		</t:div>
	</f:subview>

</ui:component>

</html>
		